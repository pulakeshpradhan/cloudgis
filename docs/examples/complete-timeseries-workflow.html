
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Complete Time Series Workflow &#8212; Open GIS - Python-based Cloud Native Geospatial Analysis</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'docs/examples/complete-timeseries-workflow';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="XArray API Reference" href="../reference/xarray-api.html" />
    <link rel="prev" title="Change Detection with XEE" href="change-detection.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">Open GIS - Python-based Cloud Native Geospatial Analysis</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    Open GIS - Python-based Cloud Native Geospatial Analysis
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../getting-started/introduction.html">Introduction to Cloud Native Remote Sensing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/setup.html">Setup Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/colab-basics.html">Google Colab Basics</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Fundamentals</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../fundamentals/xarray-basics.html">XArray Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fundamentals/stac-dask.html">STAC and Dask Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fundamentals/zarr.html">Working with Zarr</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fundamentals/xee.html">XEE for Earth Engine</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Data Processing</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../processing/spectral-indices.html">Calculating Spectral Indices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../processing/cloud-masking.html">Cloud Masking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../processing/time-series.html">Time Series Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../processing/aggregation.html">Data Aggregation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Advanced Topics</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../advanced/scaling-dask.html">Scaling with Dask</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/geemap-tiled-download.html">Geemap Tiled Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/cloud-computing.html">Cloud Computing for Remote Sensing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/planetary-computer.html">Microsoft Planetary Computer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../advanced/optimization.html">Optimization Techniques</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Practical Examples</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="ndvi-analysis.html">NDVI Analysis using XEE</a></li>
<li class="toctree-l1"><a class="reference internal" href="water-quality.html">Water Quality Monitoring with XEE</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-access-download.html">Python-First Data Access &amp; Local Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="indices-enhancement.html">Remote Sensing Indices and Enhancement</a></li>
<li class="toctree-l1"><a class="reference internal" href="clustering-methods.html">Clustering Methods in Geospatial Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="classification-methods.html">Classification Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="mcdm-methods.html">Multi-Criteria Decision Making (MCDM)</a></li>
<li class="toctree-l1"><a class="reference internal" href="timeseries-phenology.html">Time Series and Phenological Methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="network-flow.html">Python-First Network and Flow Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="deep-learning-spatial.html">Deep Learning Architectures in Spatial Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="vegetation-vcf.html">Vegetation Continuous Fields (VCF) Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="change-detection.html">Change Detection with XEE</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Complete Time Series Workflow</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../reference/xarray-api.html">XArray API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/stac-spec.html">STAC Specification Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/dask-practices.html">Dask Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/zarr-format.html">Zarr Format Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/xee-usage.html">Google Earth Engine Reference</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../resources/datasets.html">Datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/tools.html">Tools and Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources/reading.html">Further Reading</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/pulakeshpradhan/cloudgis" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/pulakeshpradhan/cloudgis/edit/main/docs/docs/examples/complete-timeseries-workflow.ipynb" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/pulakeshpradhan/cloudgis/issues/new?title=Issue%20on%20page%20%2Fdocs/examples/complete-timeseries-workflow.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/docs/examples/complete-timeseries-workflow.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Complete Time Series Workflow</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#scenario">Scenario</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#approach-1-geemap-tiled-download-xarray">Approach 1: Geemap Tiled Download + XArray</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-1-download-monthly-composites-with-geemap">Step 1: Download Monthly Composites with Geemap</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-read-downloaded-files-with-xarray">Step 2: Read Downloaded Files with XArray</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-3-analyze-time-series-with-xarray">Step 3: Analyze Time Series with XArray</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-4-visualize-results">Step 4: Visualize Results</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#approach-2-direct-xee-approach-streaming">Approach 2: Direct XEE Approach (Streaming)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#stream-time-series-directly-from-earth-engine">Stream Time Series Directly from Earth Engine</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#approach-3-dask-zarr-for-scalable-processing">Approach 3: Dask + Zarr for Scalable Processing</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-1-load-data-with-dask">Step 1: Load Data with Dask</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-save-to-zarr-cloud-optimized">Step 2: Save to Zarr (Cloud-Optimized)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-3-load-from-zarr-and-process-with-dask">Step 3: Load from Zarr and Process with Dask</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-4-advanced-time-series-analysis">Step 4: Advanced Time Series Analysis</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-5-export-results">Step 5: Export Results</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#complete-workflow-comparison">Complete Workflow Comparison</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#summary-table">Summary Table</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#performance-comparison">Performance Comparison</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#complete-example-script">Complete Example Script</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#key-takeaways">Key Takeaways</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#next-steps">Next Steps</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-resources">Additional Resources</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="complete-time-series-workflow">
<h1>Complete Time Series Workflow<a class="headerlink" href="#complete-time-series-workflow" title="Link to this heading">#</a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">#</a></h2>
<p>This practical example demonstrates a complete end-to-end workflow for time series analysis using cloud-native tools. We’ll cover three approaches:</p>
<ol class="arabic simple">
<li><p><strong>Geemap Tiled Download</strong> → Read with XArray</p></li>
<li><p><strong>Direct XEE Approach</strong> → Stream from Earth Engine</p></li>
<li><p><strong>Dask + Zarr</strong> → Scalable time series processing</p></li>
</ol>
</section>
<section id="scenario">
<h2>Scenario<a class="headerlink" href="#scenario" title="Link to this heading">#</a></h2>
<p><strong>Objective</strong>: Analyze NDVI time series for a region to detect vegetation changes over 2023.</p>
<p><strong>Area</strong>: Agricultural region in Uttar Pradesh, India<br />
<strong>Data</strong>: Sentinel-2 monthly composites<br />
<strong>Output</strong>: Time series analysis with trend detection</p>
</section>
<section id="approach-1-geemap-tiled-download-xarray">
<h2>Approach 1: Geemap Tiled Download + XArray<a class="headerlink" href="#approach-1-geemap-tiled-download-xarray" title="Link to this heading">#</a></h2>
<section id="step-1-download-monthly-composites-with-geemap">
<h3>Step 1: Download Monthly Composites with Geemap<a class="headerlink" href="#step-1-download-monthly-composites-with-geemap" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>import ee
import geemap
import os
import calendar
import numpy as np
import xarray as xr
import rioxarray as rxr
import matplotlib.pyplot as plt
from datetime import datetime

# Initialize Earth Engine
ee.Authenticate()
ee.Initialize(project=&#39;spatialgeography&#39;)

# Create output directory
output_folder = &#39;timeseries_data&#39;
if not os.path.exists(output_folder):
    os.makedirs(output_folder)

# Define region of interest
roi = ee.Geometry.Rectangle([82.0, 26.5, 82.5, 27.0])

# Download monthly NDVI composites for 2023
print(&quot;Downloading monthly NDVI composites...&quot;)

monthly_files = []

for month in range(1, 13):
    # Define date range
    start_date = f&#39;2023-{month:02d}-01&#39;
    if month == 12:
        end_date = &#39;2024-01-01&#39;
    else:
        end_date = f&#39;2023-{month+1:02d}-01&#39;
    
    # Get Sentinel-2 data
    s2 = ee.ImageCollection(&#39;COPERNICUS/S2_SR&#39;) \
        .filterBounds(roi) \
        .filterDate(start_date, end_date) \
        .filter(ee.Filter.lt(&#39;CLOUDY_PIXEL_PERCENTAGE&#39;, 30))
    
    # Cloud masking function
    def mask_clouds(image):
        qa = image.select(&#39;QA60&#39;)
        cloud_mask = qa.bitwiseAnd(1 &lt;&lt; 10).eq(0).And(
                     qa.bitwiseAnd(1 &lt;&lt; 11).eq(0))
        return image.updateMask(cloud_mask)
    
    # Apply cloud mask and create median composite
    s2_masked = s2.map(mask_clouds)
    median = s2_masked.median()
    
    # Calculate NDVI (processing done server-side in Earth Engine)
    ndvi = median.normalizedDifference([&#39;B8&#39;, &#39;B4&#39;]).clip(roi)
    
    # Download using geemap (automatic tiling, no EECU usage)
    month_name = calendar.month_name[month]
    output_file = os.path.join(output_folder, f&#39;ndvi_2023_{month:02d}.tif&#39;)
    
    try:
        geemap.download_ee_image(
            ndvi,
            filename=output_file,
            region=roi,
            scale=20,  # 20m resolution
            crs=&#39;EPSG:4326&#39;,
            num_threads=4  # Parallel download
        )
        monthly_files.append(output_file)
        print(f&quot;✓ Downloaded: {month_name}&quot;)
    except Exception as e:
        print(f&quot;✗ Failed {month_name}: {str(e)}&quot;)

print(f&quot;\nTotal files downloaded: {len(monthly_files)}&quot;)
</pre></div>
</div>
</div>
</div>
</section>
<section id="step-2-read-downloaded-files-with-xarray">
<h3>Step 2: Read Downloaded Files with XArray<a class="headerlink" href="#step-2-read-downloaded-files-with-xarray" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># Read all monthly files into XArray Dataset
print(&quot;\nReading files with XArray...&quot;)

# Read first file to get metadata
first_raster = rxr.open_rasterio(monthly_files[0], masked=True)

# Create list to store all monthly data
monthly_data = []
time_coords = []

for i, file in enumerate(monthly_files):
    # Read raster
    raster = rxr.open_rasterio(file, masked=True)
    
    # Extract data (remove band dimension as we only have NDVI)
    data = raster.squeeze(&#39;band&#39;, drop=True)
    
    # Add to list
    monthly_data.append(data)
    
    # Create time coordinate (middle of month)
    month = i + 1
    time_coords.append(datetime(2023, month, 15))

# Stack along time dimension
ndvi_ts = xr.concat(monthly_data, dim=&#39;time&#39;)
ndvi_ts = ndvi_ts.assign_coords(time=time_coords)
ndvi_ts.name = &#39;NDVI&#39;

print(ndvi_ts)
</pre></div>
</div>
</div>
</div>
</section>
<section id="step-3-analyze-time-series-with-xarray">
<h3>Step 3: Analyze Time Series with XArray<a class="headerlink" href="#step-3-analyze-time-series-with-xarray" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># Calculate statistics
print(&quot;\nCalculating statistics...&quot;)

# Temporal statistics
ndvi_mean = ndvi_ts.mean(dim=&#39;time&#39;)
ndvi_std = ndvi_ts.std(dim=&#39;time&#39;)
ndvi_max = ndvi_ts.max(dim=&#39;time&#39;)
ndvi_min = ndvi_ts.min(dim=&#39;time&#39;)

# Spatial mean time series
ndvi_spatial_mean = ndvi_ts.mean(dim=[&#39;x&#39;, &#39;y&#39;])

# Calculate trend using linear regression
from scipy import stats

def calculate_trend(data):
    &quot;&quot;&quot;Calculate linear trend.&quot;&quot;&quot;
    x = np.arange(len(data))
    mask = ~np.isnan(data)
    if mask.sum() &lt; 3:  # Need at least 3 points
        return np.nan
    slope, intercept, r_value, p_value, std_err = stats.linregress(x[mask], data[mask])
    return slope

# Apply trend calculation
trend = xr.apply_ufunc(
    calculate_trend,
    ndvi_ts,
    input_core_dims=[[&#39;time&#39;]],
    vectorize=True
)

print(f&quot;Mean NDVI: {ndvi_mean.mean().values:.3f}&quot;)
print(f&quot;NDVI Std Dev: {ndvi_std.mean().values:.3f}&quot;)
</pre></div>
</div>
</div>
</div>
</section>
<section id="step-4-visualize-results">
<h3>Step 4: Visualize Results<a class="headerlink" href="#step-4-visualize-results" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># Create comprehensive visualization
fig, axes = plt.subplots(2, 3, figsize=(18, 12))

# 1. Mean NDVI
ndvi_mean.plot(ax=axes[0, 0], cmap=&#39;RdYlGn&#39;, vmin=-1, vmax=1)
axes[0, 0].set_title(&#39;Mean NDVI (2023)&#39;)
axes[0, 0].set_axis_off()

# 2. Standard Deviation
ndvi_std.plot(ax=axes[0, 1], cmap=&#39;YlOrRd&#39;)
axes[0, 1].set_title(&#39;NDVI Standard Deviation&#39;)
axes[0, 1].set_axis_off()

# 3. Trend
trend.plot(ax=axes[0, 2], cmap=&#39;RdBu_r&#39;, center=0)
axes[0, 2].set_title(&#39;NDVI Trend (slope)&#39;)
axes[0, 2].set_axis_off()

# 4. Time series plot
ndvi_spatial_mean.plot(ax=axes[1, 0], marker=&#39;o&#39;)
axes[1, 0].set_title(&#39;Spatial Mean NDVI Time Series&#39;)
axes[1, 0].set_ylabel(&#39;NDVI&#39;)
axes[1, 0].grid(True, alpha=0.3)

# 5. Seasonal comparison (Jan vs Jul)
ndvi_ts.isel(time=0).plot(ax=axes[1, 1], cmap=&#39;RdYlGn&#39;, vmin=-1, vmax=1)
axes[1, 1].set_title(&#39;January NDVI&#39;)
axes[1, 1].set_axis_off()

ndvi_ts.isel(time=6).plot(ax=axes[1, 2], cmap=&#39;RdYlGn&#39;, vmin=-1, vmax=1)
axes[1, 2].set_title(&#39;July NDVI&#39;)
axes[1, 2].set_axis_off()

plt.tight_layout()
plt.savefig(os.path.join(output_folder, &#39;ndvi_analysis.png&#39;), dpi=300, bbox_inches=&#39;tight&#39;)
plt.show()

print(f&quot;\nAnalysis complete! Results saved to {output_folder}/&quot;)
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="approach-2-direct-xee-approach-streaming">
<h2>Approach 2: Direct XEE Approach (Streaming)<a class="headerlink" href="#approach-2-direct-xee-approach-streaming" title="Link to this heading">#</a></h2>
<section id="stream-time-series-directly-from-earth-engine">
<h3>Stream Time Series Directly from Earth Engine<a class="headerlink" href="#stream-time-series-directly-from-earth-engine" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>import xarray as xr
import xee
import ee

# Initialize Earth Engine
ee.Initialize(project=&#39;spatialgeography&#39;)

# Define region and time range
roi = ee.Geometry.Rectangle([82.0, 26.5, 82.5, 27.0])

# Get Sentinel-2 ImageCollection
s2_collection = ee.ImageCollection(&#39;COPERNICUS/S2_SR&#39;) \
    .filterBounds(roi) \
    .filterDate(&#39;2023-01-01&#39;, &#39;2023-12-31&#39;) \
    .filter(ee.Filter.lt(&#39;CLOUDY_PIXEL_PERCENTAGE&#39;, 30))

# Cloud masking
def mask_s2_clouds(image):
    qa = image.select(&#39;QA60&#39;)
    cloud_mask = qa.bitwiseAnd(1 &lt;&lt; 10).eq(0).And(
                 qa.bitwiseAnd(1 &lt;&lt; 11).eq(0))
    return image.updateMask(cloud_mask)

# Apply cloud mask
s2_masked = s2_collection.map(mask_s2_clouds)

# Open as XArray Dataset using XEE (streaming, no download!)
print(&quot;Opening Earth Engine data with XEE...&quot;)

ds_xee = xr.open_dataset(
    s2_masked,
    engine=&#39;ee&#39;,
    geometry=roi,
    scale=20,
    crs=&#39;EPSG:4326&#39;,
    ee_mask_value=-9999
)

# IMPORTANT: Sort by time immediately for resampling to work
ds_xee = ds_xee.sortby(&#39;time&#39;)
print(ds_xee)

# Calculate NDVI directly on the streamed data
print(&quot;\nCalculating NDVI...&quot;)
ndvi_xee = (ds_xee.B8 - ds_xee.B4) / (ds_xee.B8 + ds_xee.B4)

# Resample to monthly
print(&quot;Resampling to monthly...&quot;)
ndvi_monthly_xee = ndvi_xee.resample(time=&#39;1M&#39;).median()

# Calculate spatial mean
# XEE dimensions are usually lon/lat or X/Y depending on CRS
spatial_dims = [d for d in list(ds_xee.dims) if d not in [&#39;time&#39;, &#39;band&#39;]]
ndvi_ts_xee = ndvi_monthly_xee.mean(dim=spatial_dims)

# Plot comparison
fig, axes = plt.subplots(1, 2, figsize=(15, 5))

# XEE approach
ndvi_ts_xee.plot(ax=axes[0], marker=&#39;o&#39;, label=&#39;XEE (Streaming)&#39;)
axes[0].set_title(&#39;NDVI Time Series - XEE Approach&#39;)
axes[0].set_ylabel(&#39;NDVI&#39;)
axes[0].grid(True, alpha=0.3)
axes[0].legend()

# Downloaded approach (from previous)
ndvi_spatial_mean.plot(ax=axes[1], marker=&#39;s&#39;, label=&#39;Geemap (Downloaded)&#39;)
axes[1].set_title(&#39;NDVI Time Series - Geemap Approach&#39;)
axes[1].set_ylabel(&#39;NDVI&#39;)
axes[1].grid(True, alpha=0.3)
axes[1].legend()

plt.tight_layout()
plt.show()

print(&quot;\n✓ XEE streaming approach complete!&quot;)
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="approach-3-dask-zarr-for-scalable-processing">
<h2>Approach 3: Dask + Zarr for Scalable Processing<a class="headerlink" href="#approach-3-dask-zarr-for-scalable-processing" title="Link to this heading">#</a></h2>
<section id="step-1-load-data-with-dask">
<h3>Step 1: Load Data with Dask<a class="headerlink" href="#step-1-load-data-with-dask" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>from dask.distributed import Client, LocalCluster
import dask.array as da

# Start Dask cluster
print(&quot;Starting Dask cluster...&quot;)
cluster = LocalCluster(n_workers=4, threads_per_worker=2, memory_limit=&#39;2GB&#39;)
client = Client(cluster)
print(client)

# Load downloaded files with Dask chunking
print(&quot;\nLoading data with Dask...&quot;)

# Read files with chunking
monthly_data_dask = []
time_coords = []

for i, file in enumerate(monthly_files):
    # Read with rioxarray and chunk
    raster = rxr.open_rasterio(file, masked=True, chunks={&#39;x&#39;: 256, &#39;y&#39;: 256})
    data = raster.squeeze(&#39;band&#39;, drop=True)
    monthly_data_dask.append(data)
    
    month = i + 1
    time_coords.append(datetime(2023, month, 15))

# Stack with Dask
ndvi_dask = xr.concat(monthly_data_dask, dim=&#39;time&#39;)
ndvi_dask = ndvi_dask.assign_coords(time=time_coords)
ndvi_dask = ndvi_dask.chunk({&#39;time&#39;: 3, &#39;x&#39;: 256, &#39;y&#39;: 256})
ndvi_dask.name = &#39;NDVI&#39;

print(ndvi_dask)
print(f&quot;\nDask chunks: {ndvi_dask.chunks}&quot;)
</pre></div>
</div>
</div>
</div>
</section>
<section id="step-2-save-to-zarr-cloud-optimized">
<h3>Step 2: Save to Zarr (Cloud-Optimized)<a class="headerlink" href="#step-2-save-to-zarr-cloud-optimized" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>import zarr
from numcodecs import Blosc

# Configure compression
compressor = Blosc(cname=&#39;zstd&#39;, clevel=3, shuffle=Blosc.SHUFFLE)

# Save to Zarr
zarr_path = os.path.join(output_folder, &#39;ndvi_timeseries.zarr&#39;)

print(f&quot;\nSaving to Zarr: {zarr_path}&quot;)

# Convert to dataset and save
ndvi_dataset = ndvi_dask.to_dataset()

# Add metadata
ndvi_dataset.attrs[&#39;title&#39;] = &#39;NDVI Time Series 2023&#39;
ndvi_dataset.attrs[&#39;source&#39;] = &#39;Sentinel-2 SR&#39;
ndvi_dataset.attrs[&#39;region&#39;] = &#39;Uttar Pradesh, India&#39;
ndvi_dataset.attrs[&#39;resolution&#39;] = &#39;20m&#39;

# Save with compression
encoding = {
    &#39;NDVI&#39;: {
        &#39;compressor&#39;: compressor,
        &#39;chunks&#39;: (3, 256, 256)
    }
}

ndvi_dataset.to_zarr(
    zarr_path,
    mode=&#39;w&#39;,
    encoding=encoding,
    consolidated=True
)

print(&quot;✓ Saved to Zarr!&quot;)

# Check file size
import shutil
zarr_size = sum(f.stat().st_size for f in Path(zarr_path).rglob(&#39;*&#39;) if f.is_file())
print(f&quot;Zarr archive size: {zarr_size / 1e6:.2f} MB&quot;)
</pre></div>
</div>
</div>
</div>
</section>
<section id="step-3-load-from-zarr-and-process-with-dask">
<h3>Step 3: Load from Zarr and Process with Dask<a class="headerlink" href="#step-3-load-from-zarr-and-process-with-dask" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># Load from Zarr (instant, lazy loading)
print(&quot;\nLoading from Zarr...&quot;)
ndvi_from_zarr = xr.open_zarr(zarr_path, consolidated=True)

print(ndvi_from_zarr)

# Perform computations with Dask
print(&quot;\nPerforming Dask computations...&quot;)

# 1. Calculate anomalies
climatology = ndvi_from_zarr.NDVI.mean(dim=&#39;time&#39;)
anomalies = ndvi_from_zarr.NDVI - climatology

# 2. Calculate rolling mean (smoothing)
rolling_mean = ndvi_from_zarr.NDVI.rolling(time=3, center=True).mean()

# 3. Calculate percentiles
percentile_10 = ndvi_from_zarr.NDVI.quantile(0.1, dim=&#39;time&#39;)
percentile_90 = ndvi_from_zarr.NDVI.quantile(0.9, dim=&#39;time&#39;)

# Compute all at once (parallel with Dask)
print(&quot;Computing results...&quot;)
results = xr.Dataset({
    &#39;anomalies&#39;: anomalies,
    &#39;rolling_mean&#39;: rolling_mean,
    &#39;p10&#39;: percentile_10,
    &#39;p90&#39;: percentile_90
})

# Trigger computation
results_computed = results.compute()

print(&quot;✓ Computations complete!&quot;)
</pre></div>
</div>
</div>
</div>
</section>
<section id="step-4-advanced-time-series-analysis">
<h3>Step 4: Advanced Time Series Analysis<a class="headerlink" href="#step-4-advanced-time-series-analysis" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># Seasonal decomposition
print(&quot;\nPerforming seasonal analysis...&quot;)

# Group by season
seasonal_mean = ndvi_from_zarr.NDVI.groupby(&#39;time.season&#39;).mean()

# Monthly statistics
monthly_stats = ndvi_from_zarr.NDVI.groupby(&#39;time.month&#39;).agg([&#39;mean&#39;, &#39;std&#39;, &#39;min&#39;, &#39;max&#39;])

# Compute
seasonal_computed = seasonal_mean.compute()
monthly_stats_computed = monthly_stats.compute()

# Visualize seasonal patterns
fig, axes = plt.subplots(2, 2, figsize=(15, 12))

# Plot each season
seasons = [&#39;DJF&#39;, &#39;MAM&#39;, &#39;JJA&#39;, &#39;SON&#39;]
for idx, season in enumerate(seasons):
    ax = axes[idx // 2, idx % 2]
    if season in seasonal_computed.season:
        seasonal_computed.sel(season=season).plot(
            ax=ax, cmap=&#39;RdYlGn&#39;, vmin=-1, vmax=1
        )
        ax.set_title(f&#39;{season} Mean NDVI&#39;)
        ax.set_axis_off()

plt.tight_layout()
plt.savefig(os.path.join(output_folder, &#39;seasonal_ndvi.png&#39;), dpi=300)
plt.show()
</pre></div>
</div>
</div>
</div>
</section>
<section id="step-5-export-results">
<h3>Step 5: Export Results<a class="headerlink" href="#step-5-export-results" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># Save processed results to Zarr
results_path = os.path.join(output_folder, &#39;ndvi_analysis_results.zarr&#39;)

print(f&quot;\nSaving analysis results to: {results_path}&quot;)

results_computed.to_zarr(
    results_path,
    mode=&#39;w&#39;,
    consolidated=True
)

# Also save as NetCDF for compatibility
netcdf_path = os.path.join(output_folder, &#39;ndvi_timeseries.nc&#39;)
ndvi_from_zarr.to_netcdf(netcdf_path)

print(f&quot;✓ Saved to NetCDF: {netcdf_path}&quot;)

# Close Dask client
client.close()
cluster.close()

print(&quot;\n✓ All processing complete!&quot;)
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="complete-workflow-comparison">
<h2>Complete Workflow Comparison<a class="headerlink" href="#complete-workflow-comparison" title="Link to this heading">#</a></h2>
<section id="summary-table">
<h3>Summary Table<a class="headerlink" href="#summary-table" title="Link to this heading">#</a></h3>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Approach</p></th>
<th class="head"><p>Pros</p></th>
<th class="head"><p>Cons</p></th>
<th class="head"><p>Best For</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Geemap Download</strong></p></td>
<td><p>Full local control, offline analysis</p></td>
<td><p>Requires storage, download time</p></td>
<td><p>Repeated analysis, offline work</p></td>
</tr>
<tr class="row-odd"><td><p><strong>XEE Streaming</strong></p></td>
<td><p>No storage needed, always latest data</p></td>
<td><p>Requires internet, slower for repeated queries</p></td>
<td><p>Exploratory analysis, prototyping</p></td>
</tr>
<tr class="row-even"><td><p><strong>Dask + Zarr</strong></p></td>
<td><p>Scalable, efficient, cloud-ready</p></td>
<td><p>Initial setup complexity</p></td>
<td><p>Large-scale analysis, production</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="performance-comparison">
<h3>Performance Comparison<a class="headerlink" href="#performance-comparison" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>import time

# Benchmark each approach
print(&quot;\n=== Performance Comparison ===\n&quot;)

# 1. Geemap + XArray
start = time.time()
result1 = ndvi_ts.mean(dim=&#39;time&#39;).values
time1 = time.time() - start
print(f&quot;Geemap + XArray: {time1:.2f} seconds&quot;)

# 2. XEE (if loaded)
start = time.time()
result2 = ndvi_monthly_xee.mean(dim=&#39;time&#39;).compute().values
time2 = time.time() - start
print(f&quot;XEE Streaming: {time2:.2f} seconds&quot;)

# 3. Dask + Zarr
start = time.time()
result3 = ndvi_from_zarr.NDVI.mean(dim=&#39;time&#39;).compute().values
time3 = time.time() - start
print(f&quot;Dask + Zarr: {time3:.2f} seconds&quot;)

print(f&quot;\nFastest approach: &quot;, end=&quot;&quot;)
times = {&#39;Geemap&#39;: time1, &#39;XEE&#39;: time2, &#39;Zarr&#39;: time3}
print(min(times, key=times.get))
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="complete-example-script">
<h2>Complete Example Script<a class="headerlink" href="#complete-example-script" title="Link to this heading">#</a></h2>
<p>Here’s the full script combining all approaches:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#!/usr/bin/env python3
&quot;&quot;&quot;
Complete Time Series Analysis Workflow
Demonstrates: Geemap Download → XArray → XEE → Dask → Zarr
&quot;&quot;&quot;

import ee
import geemap
import xarray as xr
import xee
import rioxarray as rxr
import numpy as np
import matplotlib.pyplot as plt
from dask.distributed import Client, LocalCluster
from pathlib import Path
import os
import calendar
from datetime import datetime

# Configuration
ROI = ee.Geometry.Rectangle([82.0, 26.5, 82.5, 27.0])
YEAR = 2023
OUTPUT_FOLDER = &#39;timeseries_analysis&#39;
SCALE = 20  # meters

def main():
    &quot;&quot;&quot;Run complete workflow.&quot;&quot;&quot;
    
    # Initialize
    ee.Initialize(project=&#39;spatialgeography&#39;)
    os.makedirs(OUTPUT_FOLDER, exist_ok=True)
    
    print(&quot;=&quot;*60)
    print(&quot;CLOUD-NATIVE TIME SERIES ANALYSIS WORKFLOW&quot;)
    print(&quot;=&quot;*60)
    
    # Approach 1: Geemap Download
    print(&quot;\n[1/3] Geemap Tiled Download...&quot;)
    monthly_files = download_monthly_ndvi(ROI, YEAR, OUTPUT_FOLDER)
    ndvi_xarray = load_with_xarray(monthly_files)
    analyze_timeseries(ndvi_xarray, OUTPUT_FOLDER)
    
    # Approach 2: XEE Streaming
    print(&quot;\n[2/3] XEE Streaming...&quot;)
    ndvi_xee = stream_with_xee(ROI, YEAR)
    compare_approaches(ndvi_xarray, ndvi_xee, OUTPUT_FOLDER)
    
    # Approach 3: Dask + Zarr
    print(&quot;\n[3/3] Dask + Zarr Processing...&quot;)
    process_with_dask_zarr(monthly_files, OUTPUT_FOLDER)
    
    print(&quot;\n&quot; + &quot;=&quot;*60)
    print(&quot;✓ WORKFLOW COMPLETE!&quot;)
    print(f&quot;Results saved to: {OUTPUT_FOLDER}/&quot;)
    print(&quot;=&quot;*60)

def download_monthly_ndvi(roi, year, output_folder):
    &quot;&quot;&quot;Download monthly NDVI using geemap.&quot;&quot;&quot;
    # Implementation from Approach 1
    pass

def load_with_xarray(files):
    &quot;&quot;&quot;Load files with XArray.&quot;&quot;&quot;
    # Implementation from Approach 1
    pass

def analyze_timeseries(data, output_folder):
    &quot;&quot;&quot;Analyze time series.&quot;&quot;&quot;
    # Implementation from Approach 1
    pass

def stream_with_xee(roi, year):
    &quot;&quot;&quot;Stream data with XEE.&quot;&quot;&quot;
    # Implementation from Approach 2
    pass

def compare_approaches(data1, data2, output_folder):
    &quot;&quot;&quot;Compare different approaches.&quot;&quot;&quot;
    # Implementation from comparison section
    pass

def process_with_dask_zarr(files, output_folder):
    &quot;&quot;&quot;Process with Dask and save to Zarr.&quot;&quot;&quot;
    # Implementation from Approach 3
    pass

if __name__ == &#39;__main__&#39;:
    main()
</pre></div>
</div>
</div>
</div>
</section>
<section id="key-takeaways">
<h2>Key Takeaways<a class="headerlink" href="#key-takeaways" title="Link to this heading">#</a></h2>
<p>!!! success “What You Learned”
- <strong>Geemap</strong>: Download large time series without EECU, automatic tiling
- <strong>XArray</strong>: Powerful time series analysis with labeled dimensions
- <strong>XEE</strong>: Stream Earth Engine data directly without downloads
- <strong>Dask</strong>: Parallel processing for large datasets
- <strong>Zarr</strong>: Cloud-optimized storage with compression
- <strong>Integration</strong>: Combine tools for optimal workflow
- <strong>Performance</strong>: Choose the right tool for your use case</p>
</section>
<section id="next-steps">
<h2>Next Steps<a class="headerlink" href="#next-steps" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Next: <a class="reference internal" href="timeseries-phenology.html"><span class="std std-doc">Time Series and Phenological Methods</span></a></p></li>
<li><p>Learn <a class="reference internal" href="../advanced/optimization.html"><span class="std std-doc">Optimization Techniques</span></a> for better performance</p></li>
<li><p>Back: <a class="reference internal" href="classification-methods.html"><span class="std std-doc">Classification Methods</span></a></p></li>
</ul>
</section>
<section id="additional-resources">
<h2>Additional Resources<a class="headerlink" href="#additional-resources" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://geemap.org/notebooks/">geemap Examples</a></p></li>
<li><p><a class="reference external" href="https://docs.xarray.dev/en/stable/user-guide/time-series.html">XArray Time Series</a></p></li>
<li><p><a class="reference external" href="https://docs.dask.org/en/stable/best-practices.html">Dask Best Practices</a></p></li>
<li><p><a class="reference external" href="https://zarr.readthedocs.io/en/stable/tutorial.html">Zarr Tutorial</a></p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./docs\examples"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="change-detection.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Change Detection with XEE</p>
      </div>
    </a>
    <a class="right-next"
       href="../reference/xarray-api.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">XArray API Reference</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#scenario">Scenario</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#approach-1-geemap-tiled-download-xarray">Approach 1: Geemap Tiled Download + XArray</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-1-download-monthly-composites-with-geemap">Step 1: Download Monthly Composites with Geemap</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-read-downloaded-files-with-xarray">Step 2: Read Downloaded Files with XArray</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-3-analyze-time-series-with-xarray">Step 3: Analyze Time Series with XArray</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-4-visualize-results">Step 4: Visualize Results</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#approach-2-direct-xee-approach-streaming">Approach 2: Direct XEE Approach (Streaming)</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#stream-time-series-directly-from-earth-engine">Stream Time Series Directly from Earth Engine</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#approach-3-dask-zarr-for-scalable-processing">Approach 3: Dask + Zarr for Scalable Processing</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-1-load-data-with-dask">Step 1: Load Data with Dask</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-2-save-to-zarr-cloud-optimized">Step 2: Save to Zarr (Cloud-Optimized)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-3-load-from-zarr-and-process-with-dask">Step 3: Load from Zarr and Process with Dask</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-4-advanced-time-series-analysis">Step 4: Advanced Time Series Analysis</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#step-5-export-results">Step 5: Export Results</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#complete-workflow-comparison">Complete Workflow Comparison</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#summary-table">Summary Table</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#performance-comparison">Performance Comparison</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#complete-example-script">Complete Example Script</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#key-takeaways">Key Takeaways</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#next-steps">Next Steps</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#additional-resources">Additional Resources</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Open Geospatial Hub
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>